<<<<<<< HEAD
const {platform, isMainThread, cpus} = require('./environment');

/** @typedef {import("./Pool")} Pool */
/** @typedef {import("./types.js").WorkerPoolOptions} WorkerPoolOptions */
/** @typedef {import("./types.js").WorkerRegisterOptions} WorkerRegisterOptions */

/**
 * @template { { [k: string]: (...args: any[]) => any } } T
 * @typedef {import('./types.js').Proxy<T>} Proxy<T>
 */

/**
 * @overload
 * Create a new worker pool
 * @param {WorkerPoolOptions} [script]
 * @returns {Pool} pool
 */
/**
 * @overload
=======
var environment = require('./environment');

/**
>>>>>>> 3816a3887014cd92740c264d3f4c96ab657a2573
 * Create a new worker pool
 * @param {string} [script]
 * @param {WorkerPoolOptions} [options]
 * @returns {Pool} pool
 */
<<<<<<< HEAD
function pool(script, options) {
=======
exports.pool = function pool(script, options) {
>>>>>>> 3816a3887014cd92740c264d3f4c96ab657a2573
  var Pool = require('./Pool');

  return new Pool(script, options);
};
<<<<<<< HEAD
exports.pool = pool;

/**
 * Create a worker and optionally register a set of methods to the worker.
 * @param {{ [k: string]: (...args: any[]) => any }} [methods]
 * @param {WorkerRegisterOptions} [options]
 */
function worker(methods, options) {
  var worker = require('./worker');
  worker.add(methods, options);
};
exports.worker = worker;
=======

/**
 * Create a worker and optionally register a set of methods to the worker.
 * @param {Object} [methods]
 * @param {WorkerRegisterOptions} [options]
 */
exports.worker = function worker(methods, options) {
  var worker = require('./worker');
  worker.add(methods, options);
};
>>>>>>> 3816a3887014cd92740c264d3f4c96ab657a2573

/**
 * Sends an event to the parent worker pool.
 * @param {any} payload 
 */
<<<<<<< HEAD
function workerEmit(payload) {
  var worker = require('./worker');
  worker.emit(payload);
};
exports.workerEmit = workerEmit;

const {Promise} = require('./Promise');
exports.Promise = Promise;

exports.Transfer = require('./transfer');

exports.platform = platform;
exports.isMainThread = isMainThread;
exports.cpus = cpus;
=======
exports.workerEmit = function workerEmit(payload) {
  var worker = require('./worker');
  worker.emit(payload);
};

/**
 * Create a promise.
 * @type {Promise} promise
 */
exports.Promise = require('./Promise');

/**
 * Create a transfer object.
 * @type {Transfer} transfer
 */
exports.Transfer = require('./transfer');

exports.platform = environment.platform;
exports.isMainThread = environment.isMainThread;
exports.cpus = environment.cpus;
>>>>>>> 3816a3887014cd92740c264d3f4c96ab657a2573
